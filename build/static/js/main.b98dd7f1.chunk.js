(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{106:function(e,t,a){e.exports=a(192)},115:function(e,t,a){},117:function(e,t,a){},136:function(e,t,a){},137:function(e,t,a){},188:function(e,t,a){},189:function(e,t,a){},190:function(e,t,a){},192:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"errorMessage",function(){return I}),a.d(n,"loadGameSuccess",function(){return R}),a.d(n,"getAllGames",function(){return N}),a.d(n,"loadSingleGameSuccess",function(){return W}),a.d(n,"loadSingleGameCoverSuccess",function(){return F}),a.d(n,"getSingleGame",function(){return _}),a.d(n,"getSingleGameCover",function(){return M}),a.d(n,"addItemToWishList",function(){return T}),a.d(n,"removeItemFromWishList",function(){return U});var r=a(0),i=a.n(r),c=a(26),o=a(196),s=a(7),l=a(94),u=a(21),m=(a(115),a(6)),h=a(9),p=a(12),d=a(10),g=a(11),f=a(195),E=a(194),v=a(197),b=a(198),O=(a(116),a(117),"67f00bcb5bf60222649c907a7d052523"),w=a(52),y=a.n(w),S="https://cors-anywhere.herokuapp.com/https://api-v3.igdb.com",j=function e(){Object(m.a)(this,e)};j.getAllGames=function(e){var t=null,a=null;return""===e?(a="/games",t=""):(a="/search",t="search "+'"'.concat(e,'"')+";"),y()({url:a,baseURL:S,method:"POST",headers:{Accept:"application/json","user-key":O},data:"fields *;"+t+" limit 20;"}).then(function(e){return console.log(e.data),e.data}).catch(function(e){console.error(e)})},j.getGame=function(e){var t="where id = "+"".concat(e)+";";return y()({url:"/games",baseURL:S,method:"POST",headers:{Accept:"application/json","user-key":O},data:"fields *;"+t}).then(function(e){return e.data}).catch(function(e){console.error(e)})},j.getGameCover=function(e){var t="where id = "+"".concat(e)+";";return y()({url:"/covers",baseURL:S,method:"POST",headers:{Accept:"application/json","user-key":O},data:"fields alpha_channel,animated,game,height,image_id,url,width;"+t}).then(function(e){return console.log(e.data),e.data}).catch(function(e){console.error(e)})};var G=j,A="LOAD_GAMES_SUCCESS",L="LOAD_SINGLEGAME_SUCCESS",k="LOAD_SINGLEGAMECOVER_SUCCESS",C="ADD_WISHLIST",D="REMOVE_WISHLIST_ITEM",I=function(){return{type:"ERROR_MESSAGE"}};function R(e){return{type:A,games:e}}function N(e){return function(t){G.getAllGames(e).then(function(e){t(R(e))}).catch(function(e){throw t(I),e})}}function W(e){return{type:L,game:e}}function F(e){return{type:k,game:e}}function _(e){return function(t){G.getGame(e).then(function(e){console.log(e,"game"),t(W(e)),e.length>0&&e[0].cover&&t(M(e[0].cover))}).catch(function(e){throw t(I),e})}}function M(e){return function(t){G.getGameCover(e).then(function(e){console.log(e,"cover"),t(F(e))}).catch(function(e){throw t(I),e})}}function T(e){return{type:C,briefGameInfo:e}}function U(e){return{type:D,briefGameInfo:e}}var H=a(193),P=(a(136),function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).state={status:a.props.isFetching},a}return Object(g.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=null;switch(this.state.status){case"LOADING":e=i.a.createElement("em",null,"Loading...");break;case"LOADED":e=this.props.games&&this.props.games.map(function(e){return i.a.createElement("div",{key:e.id,className:"game-item"},i.a.createElement(H.a,{to:"/GameDetails/".concat(e.id),className:"game-name"},e.name),i.a.createElement("p",null,e.summary))});break;default:e=i.a.createElement("b",null,"Failed to load data, please try again")}return i.a.createElement("div",null,i.a.createElement("div",{className:"GameCard"},i.a.createElement("h1",null,"Game List "),e))}}]),t}(r.Component)),x=a(18),B=(a(137),function(e){function t(){return Object(m.a)(this,t),Object(p.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"sidebar"},i.a.createElement("div",{className:"sidebar-list"},i.a.createElement(x.a,{type:"home",theme:"twoTone"}),i.a.createElement(H.a,{to:"/"}," Home"),i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement(x.a,{type:"star",theme:"twoTone"}),i.a.createElement(H.a,{to:"/WishList"}," WishList"),i.a.createElement("br",null)))}}]),t}(r.Component)),V=E.a.Search,J=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).state={status:a.props.isFetching,keyWord:""},a}return Object(g.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){console.log(this.state.keyWord),this.props.actions.getAllGames("".concat(this.state.keyWord))}},{key:"render",value:function(){var e=this,t=null;switch(this.props.isFetching){case"LOADING":t=i.a.createElement("em",null,"Loading...");break;case"LOADED":t=i.a.createElement("div",null,i.a.createElement(P,{games:this.props.games,isFetching:this.props.isFetching}));break;default:t=i.a.createElement("b",null,"Failed to load data, please try again")}return i.a.createElement("div",null,i.a.createElement(v.a,null,i.a.createElement(b.a,{span:6},i.a.createElement(B,null)),i.a.createElement(b.a,{span:18},i.a.createElement(V,{className:"search-input",placeholder:"input search text",onSearch:function(t){return e.props.actions.getAllGames(t)},enterButton:!0}),t)))}}]),t}(r.Component),$=Object(u.b)(function(e){return console.log(e.allGames.games),{isFetching:e.allGames.isFetching,games:e.allGames.games}},function(e){return{actions:Object(s.b)(n,e)}})(J),q=a(54),z=(a(188),function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).state={currentId:a.props.match.params.id},a}return Object(g.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){console.log(this.state.currentId),this.props.actions.getSingleGame("".concat(this.state.currentId))}},{key:"addWishListClick",value:function(){var e={id:this.state.currentId,name:this.props.game.name,rating:this.props.game.rating,platforms:this.props.game.platforms};this.props.actions.addItemToWishList(e)}},{key:"render",value:function(){var e=this,t=null;switch(this.props.isFetching){case"LOADING":t=i.a.createElement("em",null,"Loading...");break;case"LOADED":t=i.a.createElement("div",{className:"game-detail-card"},i.a.createElement(v.a,null,i.a.createElement(b.a,{span:16},i.a.createElement("div",{className:"game-summary"},i.a.createElement("h2",null,"Summary:"),this.props.game.summary&&i.a.createElement("p",null,this.props.game.summary))),i.a.createElement(b.a,{span:8},i.a.createElement("h2",null,"Popularity:"),this.props.game.popularity&&i.a.createElement("p",{className:"game-popularity"},this.props.game.popularity.toFixed(2)))));break;default:t=i.a.createElement("b",null,"Failed to load data, please try again")}return i.a.createElement("div",null,i.a.createElement(v.a,null,i.a.createElement(b.a,{span:6},i.a.createElement(B,null)),i.a.createElement(b.a,{span:18},i.a.createElement(H.a,{to:"/",className:"back-to"},"Back to Search"),i.a.createElement("div",{className:"game-content"},this.props.game.name&&i.a.createElement("h1",{className:"single-game-title"},this.props.game.name," "),i.a.createElement(v.a,null,i.a.createElement(b.a,{span:8},this.props.gameCover&&i.a.createElement("img",{className:"game-cover",src:this.props.gameCover,alt:this.props.game.name})),i.a.createElement(b.a,{span:16},t)),this.props.game.name&&i.a.createElement(q.a,{type:"primary",onClick:function(){return e.addWishListClick()}},"Add to Wishlist")))))}}]),t}(r.Component)),K=Object(u.b)(function(e){return{isFetching:e.singleGame.isFetching,game:e.singleGame.game,gameCover:e.singleGameCover.gameCover}},function(e){return{actions:Object(s.b)(n,e)}})(z),Q=(a(189),function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).state={},a}return Object(g.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){}},{key:"removeWishListClick",value:function(e){this.props.actions.removeItemFromWishList(e)}},{key:"render",value:function(){var e=this,t=null;return t=this.props.wishlist===[]?i.a.createElement("div",null,i.a.createElement("h1",null,"it's empty")):this.props.wishlist.map(function(t,a){return i.a.createElement("div",{key:a,className:"wish-item"},i.a.createElement(v.a,null,i.a.createElement(b.a,{span:20},i.a.createElement("h2",null,t.name)),i.a.createElement(b.a,{span:4},i.a.createElement(q.a,{type:"primary",onClick:function(){return e.removeWishListClick(t.id)}},"remove"))))}),i.a.createElement("div",{className:"wish-list"},i.a.createElement(v.a,null,i.a.createElement(b.a,{span:6},i.a.createElement(B,null)),i.a.createElement(b.a,{span:18},i.a.createElement("h1",null,"My Wish List"),t)))}}]),t}(r.Component)),X=Object(u.b)(function(e){return console.log(e.wishlist.wishlist),{wishlist:e.wishlist.wishlist}},function(e){return{actions:Object(s.b)(n,e)}})(Q),Y=(a(190),function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).state={title:"Game Holic"},a}return Object(g.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"App"},i.a.createElement("header",{className:"App-header"},i.a.createElement("h1",{className:"App-title"},this.state.title)),i.a.createElement(f.a,{exact:!0,path:"/",component:$}),i.a.createElement(f.a,{path:"/GameDetails/:id",component:K}),i.a.createElement(f.a,{path:"/WishList",component:X}))}}]),t}(r.Component)),Z=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function ee(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}var te=a(14),ae={games:[],isFetching:"LOADING"};var ne={game:{},isFetching:"LOADING"};var re={gameCover:"",isFetching:"LOADING"};var ie=a(103),ce={wishlist:[]};var oe=Object(s.c)({allGames:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAD_GAMES_SUCCESS":return Object(te.a)({},e,{isFetching:"LOADED",games:t.games});case"ERROR_MESSAGE":return Object(te.a)({},e,{isFeching:"ERROR"});default:return e}},singleGame:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAD_SINGLEGAME_SUCCESS":return Object(te.a)({},e,{isFetching:"LOADED",game:t.game.length>0?t.game[0]:{}});case"ERROR_MESSAGE":return Object(te.a)({},e,{isFeching:"ERROR"});default:return e}},singleGameCover:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAD_SINGLEGAMECOVER_SUCCESS":return Object(te.a)({},e,{isFetching:"LOADED",gameCover:t.game[0].url});case"ERROR_MESSAGE":return Object(te.a)({},e,{isFeching:"ERROR"});default:return e}},wishlist:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_WISHLIST":return Object(te.a)({},e,{wishlist:[].concat(Object(ie.a)(e.wishlist),[t.briefGameInfo])});case"REMOVE_WISHLIST_ITEM":return Object(te.a)({},e,{wishlist:e.wishlist.filter(function(e){return t.briefGameInfo!==e.id})});default:return e}}}),se=Object(s.d)(oe,Object(s.a)(l.a));Object(c.render)(i.a.createElement(u.a,{store:se},i.a.createElement(o.a,null,i.a.createElement(Y,null))),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("","/service-worker.js");Z?(function(e,t){fetch(e).then(function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):ee(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):ee(t,e)})}}()}},[[106,1,2]]]);
//# sourceMappingURL=main.b98dd7f1.chunk.js.map